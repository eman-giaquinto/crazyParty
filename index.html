<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Festa nella Palude di Shrek</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <h1>Festa nella Palude!</h1>
        <p>Assegna i tuoi amici ai personaggi (anche solo alcuni!)</p>
    </header>

    <div class="container">
        
        <div class="card">
            <div class="img-container"><img src="img/shrek.jpg" alt="Shrek"></div>
            <h3>Shrek</h3>
            <input type="text" class="guest-input" placeholder="Nome invitato...">
            <div class="actions">
                <button class="btn btn-confirm" onclick="confermaInvitato(this)">✔</button>
                <button class="btn btn-remove hidden" onclick="rimuoviInvitato(this)">✖</button>
            </div>
        </div>

        <div class="card">
            <div class="img-container"><img src="img/fiona.jpg" alt="Fiona"></div>
            <h3>Fiona</h3>
            <input type="text" class="guest-input" placeholder="Nome invitato...">
            <div class="actions">
                <button class="btn btn-confirm" onclick="confermaInvitato(this)">✔</button>
                <button class="btn btn-remove hidden" onclick="rimuoviInvitato(this)">✖</button>
            </div>
        </div>

        <div class="card">
            <div class="img-container"><img src="img/ciuchino.jpg" alt="Ciuchino"></div>
            <h3>Ciuchino</h3>
            <input type="text" class="guest-input" placeholder="Nome invitato...">
            <div class="actions">
                <button class="btn btn-confirm" onclick="confermaInvitato(this)">✔</button>
                <button class="btn btn-remove hidden" onclick="rimuoviInvitato(this)">✖</button>
            </div>
        </div>

        <div class="card">
            <div class="img-container"><img src="img/gatto.jpg" alt="Gatto"></div>
            <h3>Gatto</h3>
            <input type="text" class="guest-input" placeholder="Nome invitato...">
            <div class="actions">
                <button class="btn btn-confirm" onclick="confermaInvitato(this)">✔</button>
                <button class="btn btn-remove hidden" onclick="rimuoviInvitato(this)">✖</button>
            </div>
        </div>
        
        <div class="card">
            <div class="img-container"><img src="img/zenzy.jpg" alt="Zenzy"></div>
            <h3>Zenzy</h3>
            <input type="text" class="guest-input" placeholder="Nome invitato...">
            <div class="actions">
                <button class="btn btn-confirm" onclick="confermaInvitato(this)">✔</button>
                <button class="btn btn-remove hidden" onclick="rimuoviInvitato(this)">✖</button>
            </div>
        </div>

        <div class="card">
            <div class="img-container"><img src="img/farquaad.jpg" alt="Lord Farquaad"></div>
            <h3>Lord Farquaad</h3>
            <input type="text" class="guest-input" placeholder="Nome invitato...">
            <div class="actions">
                <button class="btn btn-confirm" onclick="confermaInvitato(this)">✔</button>
                <button class="btn btn-remove hidden" onclick="rimuoviInvitato(this)">✖</button>
            </div>
        </div>

        <div class="card">
            <div class="img-container"><img src="img/pinocchio.jpg" alt="Pinocchio"></div>
            <h3>Pinocchio</h3>
            <input type="text" class="guest-input" placeholder="Nome invitato...">
            <div class="actions">
                <button class="btn btn-confirm" onclick="confermaInvitato(this)">✔</button>
                <button class="btn btn-remove hidden" onclick="rimuoviInvitato(this)">✖</button>
            </div>
        </div>

        <div class="card">
            <div class="img-container"><img src="img/drago.jpg" alt="Draghessa"></div>
            <h3>Draghessa</h3>
            <input type="text" class="guest-input" placeholder="Nome invitato...">
            <div class="actions">
                <button class="btn btn-confirm" onclick="confermaInvitato(this)">✔</button>
                <button class="btn btn-remove hidden" onclick="rimuoviInvitato(this)">✖</button>
            </div>
        </div>

        <div class="card">
            <div class="img-container"><img src="img/lupo.jpg" alt="Lupo Cattivo"></div>
            <h3>Lupo Cattivo</h3>
            <input type="text" class="guest-input" placeholder="Nome invitato...">
            <div class="actions">
                <button class="btn btn-confirm" onclick="confermaInvitato(this)">✔</button>
                <button class="btn btn-remove hidden" onclick="rimuoviInvitato(this)">✖</button>
            </div>
        </div>

        <div class="card">
            <div class="img-container"><img src="img/porcellini.jpg" alt="Tre Porcellini"></div>
            <h3>I 3 Porcellini</h3>
            <input type="text" class="guest-input" placeholder="Nome invitato...">
            <div class="actions">
                <button class="btn btn-confirm" onclick="confermaInvitato(this)">✔</button>
                <button class="btn btn-remove hidden" onclick="rimuoviInvitato(this)">✖</button>
            </div>
        </div>

    </div>

    <div class="footer-action">
        <button id="btn-finale" onclick="vaiAllaProssimaPagina()">Conferma e vai alla festa ➜</button>
    </div>

    <script>
        // Tasto VERDE (Conferma)
        function confermaInvitato(btn) {
            const card = btn.closest('.card');
            const input = card.querySelector('.guest-input');
            const removeBtn = card.querySelector('.btn-remove');

            if (input.value.trim() === "") {
                alert("Scrivi un nome prima di confermare questo personaggio!");
                return;
            }

            input.disabled = true;
            input.classList.add('confirmed');
            btn.classList.add('hidden');
            removeBtn.classList.remove('hidden');
        }

        // Tasto ROSSO (Rimuovi)
        function rimuoviInvitato(btn) {
            const card = btn.closest('.card');
            const input = card.querySelector('.guest-input');
            const confirmBtn = card.querySelector('.btn-confirm');

            input.disabled = false;
            input.value = "";
            input.classList.remove('confirmed');
            btn.classList.add('hidden');
            confirmBtn.classList.remove('hidden');
        }

        // Tasto FINALE (Logica modificata come richiesto)
        function vaiAllaProssimaPagina() {
            // Contiamo quanti ne abbiamo confermati giusto per info, ma non blocchiamo.
            const confirmedCount = document.querySelectorAll('.guest-input.confirmed').length;
            
            // Messaggio di cortesia (opzionale)
            if (confirmedCount === 0) {
                const sicuro = confirm("Non hai assegnato nessun invitato. Vuoi procedere comunque?");
                if (!sicuro) return;
            } else {
                alert("Evviva! " + confirmedCount + " personaggi sono stati assegnati. Andiamo!");
            }

            // Reindirizzamento alla pagina successiva
            // Assicurati di creare il file pagina_successiva.html
            window.location.href = "pagina_successiva.html"; 
        }
    </script>
</body>
</html>
